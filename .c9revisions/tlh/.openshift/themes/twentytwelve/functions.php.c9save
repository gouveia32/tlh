{"ts":1381342777488,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<?php\n/**\n * Twenty Twelve functions and definitions.\n *\n * Sets up the theme and provides some helper functions, which are used\n * in the theme as custom template tags. Others are attached to action and\n * filter hooks in WordPress to change core functionality.\n *\n * When using a child theme (see http://codex.wordpress.org/Theme_Development and\n * http://codex.wordpress.org/Child_Themes), you can override certain functions\n * (those wrapped in a function_exists() call) by defining them first in your child theme's\n * functions.php file. The child theme's functions.php file is included before the parent\n * theme's file, so the child theme functions would be used.\n *\n * Functions that are not pluggable (not wrapped in function_exists()) are instead attached\n * to a filter or action hook.\n *\n * For more information on hooks, actions, and filters, see http://codex.wordpress.org/Plugin_API.\n *\n * @package WordPress\n * @subpackage Twenty_Twelve\n * @since Twenty Twelve 1.0\n */\n\n/**\n * Sets up the content width value based on the theme's design and stylesheet.\n */\nif ( ! isset( $content_width ) )\n\t$content_width = 625;\n\n/**\n * Sets up theme defaults and registers the various WordPress features that\n * Twenty Twelve supports.\n *\n * @uses load_theme_textdomain() For translation/localization support.\n * @uses add_editor_style() To add a Visual Editor stylesheet.\n * @uses add_theme_support() To add support for post thumbnails, automatic feed links,\n * \tcustom background, and post formats.\n * @uses register_nav_menu() To add support for navigation menus.\n * @uses set_post_thumbnail_size() To set a custom post thumbnail size.\n *\n * @since Twenty Twelve 1.0\n */\nfunction twentytwelve_setup() {\n\t/*\n\t * Makes Twenty Twelve available for translation.\n\t *\n\t * Translations can be added to the /languages/ directory.\n\t * If you're building a theme based on Twenty Twelve, use a find and replace\n\t * to change 'twentytwelve' to the name of your theme in all the template files.\n\t */\n\tload_theme_textdomain( 'twentytwelve', get_template_directory() . '/languages' );\n\n\t// This theme styles the visual editor with editor-style.css to match the theme style.\n\tadd_editor_style();\n\n\t// Adds RSS feed links to <head> for posts and comments.\n\tadd_theme_support( 'automatic-feed-links' );\n\n\t// This theme supports a variety of post formats.\n\tadd_theme_support( 'post-formats', array( 'aside', 'image', 'link', 'quote', 'status' ) );\n\n\t// This theme uses wp_nav_menu() in one location.\n\tregister_nav_menu( 'primary', __( 'Primary Menu', 'twentytwelve' ) );\n\n\t/*\n\t * This theme supports custom background color and image, and here\n\t * we also set up the default background color.\n\t */\n\tadd_theme_support( 'custom-background', array(\n\t\t'default-color' => 'e6e6e6',\n\t) );\n\n\t// This theme uses a custom image size for featured images, displayed on \"standard\" posts.\n\tadd_theme_support( 'post-thumbnails' );\n\tset_post_thumbnail_size( 624, 9999 ); // Unlimited height, soft crop\n}\nadd_action( 'after_setup_theme', 'twentytwelve_setup' );\n\n/**\n * Adds support for a custom header image.\n */\nrequire( get_template_directory() . '/inc/custom-header.php' );\n\n/**\n * Returns the Google font stylesheet URL if available.\n *\n * The use of Open Sans by default is localized. For languages that use\n * characters not supported by the font, the font can be disabled.\n *\n * @since Twenty Twelve 1.2\n *\n * @return string Font stylesheet or empty string if disabled.\n */\nfunction twentytwelve_get_font_url() {\n\t$font_url = '';\n\n\t/* translators: If there are characters in your language that are not supported\n\t by Open Sans, translate this to 'off'. Do not translate into your own language. */\n\tif ( 'off' !== _x( 'on', 'Open Sans font: on or off', 'twentytwelve' ) ) {\n\t\t$subsets = 'latin,latin-ext';\n\n\t\t/* translators: To add an additional Open Sans character subset specific to your language, translate\n\t\t this to 'greek', 'cyrillic' or 'vietnamese'. Do not translate into your own language. */\n\t\t$subset = _x( 'no-subset', 'Open Sans font: add new subset (greek, cyrillic, vietnamese)', 'twentytwelve' );\n\n\t\tif ( 'cyrillic' == $subset )\n\t\t\t$subsets .= ',cyrillic,cyrillic-ext';\n\t\telseif ( 'greek' == $subset )\n\t\t\t$subsets .= ',greek,greek-ext';\n\t\telseif ( 'vietnamese' == $subset )\n\t\t\t$subsets .= ',vietnamese';\n\n\t\t$protocol = is_ssl() ? 'https' : 'http';\n\t\t$query_args = array(\n\t\t\t'family' => 'Open+Sans:400italic,700italic,400,700',\n\t\t\t'subset' => $subsets,\n\t\t);\n\t\t$font_url = add_query_arg( $query_args, \"$protocol://fonts.googleapis.com/css\" );\n\t}\n\n\treturn $font_url;\n}\n\n/**\n * Enqueues scripts and styles for front-end.\n *\n * @since Twenty Twelve 1.0\n */\nfunction twentytwelve_scripts_styles() {\n\tglobal $wp_styles;\n\n\t/*\n\t * Adds JavaScript to pages with the comment form to support\n\t * sites with threaded comments (when in use).\n\t */\n\tif ( is_singular() && comments_open() && get_option( 'thread_comments' ) )\n\t\twp_enqueue_script( 'comment-reply' );\n\n\t/*\n\t * Adds JavaScript for handling the navigation menu hide-and-show behavior.\n\t */\n\twp_enqueue_script( 'twentytwelve-navigation', get_template_directory_uri() . '/js/navigation.js', array(), '1.0', true );\n\n\t$font_url = twentytwelve_get_font_url();\n\tif ( ! empty( $font_url ) )\n\t\twp_enqueue_style( 'twentytwelve-fonts', esc_url_raw( $font_url ), array(), null );\n\n\t/*\n\t * Loads our main stylesheet.\n\t */\n\twp_enqueue_style( 'twentytwelve-style', get_stylesheet_uri() );\n\n\t/*\n\t * Loads the Internet Explorer specific stylesheet.\n\t */\n\twp_enqueue_style( 'twentytwelve-ie', get_template_directory_uri() . '/css/ie.css', array( 'twentytwelve-style' ), '20121010' );\n\t$wp_styles->add_data( 'twentytwelve-ie', 'conditional', 'lt IE 9' );\n}\nadd_action( 'wp_enqueue_scripts', 'twentytwelve_scripts_styles' );\n\n/**\n * Adds additional stylesheets to the TinyMCE editor if needed.\n *\n * @uses twentytwelve_get_font_url() To get the Google Font stylesheet URL.\n *\n * @since Twenty Twelve 1.2\n *\n * @param string $mce_css CSS path to load in TinyMCE.\n * @return string\n */\nfunction twentytwelve_mce_css( $mce_css ) {\n\t$font_url = twentytwelve_get_font_url();\n\n\tif ( empty( $font_url ) )\n\t\treturn $mce_css;\n\n\tif ( ! empty( $mce_css ) )\n\t\t$mce_css .= ',';\n\n\t$mce_css .= esc_url_raw( str_replace( ',', '%2C', $font_url ) );\n\n\treturn $mce_css;\n}\nadd_filter( 'mce_css', 'twentytwelve_mce_css' );\n\n/**\n * Creates a nicely formatted and more specific title element text\n * for output in head of document, based on current view.\n *\n * @since Twenty Twelve 1.0\n *\n * @param string $title Default title text for current view.\n * @param string $sep Optional separator.\n * @return string Filtered title.\n */\nfunction twentytwelve_wp_title( $title, $sep ) {\n\tglobal $paged, $page;\n\n\tif ( is_feed() )\n\t\treturn $title;\n\n\t// Add the site name.\n\t$title .= get_bloginfo( 'name' );\n\n\t// Add the site description for the home/front page.\n\t$site_description = get_bloginfo( 'description', 'display' );\n\tif ( $site_description && ( is_home() || is_front_page() ) )\n\t\t$title = \"$title $sep $site_description\";\n\n\t// Add a page number if necessary.\n\tif ( $paged >= 2 || $page >= 2 )\n\t\t$title = \"$title $sep \" . sprintf( __( 'Page %s', 'twentytwelve' ), max( $paged, $page ) );\n\n\treturn $title;\n}\nadd_filter( 'wp_title', 'twentytwelve_wp_title', 10, 2 );\n\n/**\n * Makes our wp_nav_menu() fallback -- wp_page_menu() -- show a home link.\n *\n * @since Twenty Twelve 1.0\n */\nfunction twentytwelve_page_menu_args( $args ) {\n\tif ( ! isset( $args['show_home'] ) )\n\t\t$args['show_home'] = true;\n\treturn $args;\n}\nadd_filter( 'wp_page_menu_args', 'twentytwelve_page_menu_args' );\n\n/**\n * Registers our main widget area and the front page widget areas.\n *\n * @since Twenty Twelve 1.0\n */\nfunction twentytwelve_widgets_init() {\n\tregister_sidebar( array(\n\t\t'name' => __( 'Main Sidebar', 'twentytwelve' ),\n\t\t'id' => 'sidebar-1',\n\t\t'description' => __( 'Appears on posts and pages except the optional Front Page template, which has its own widgets', 'twentytwelve' ),\n\t\t'before_widget' => '<aside id=\"%1$s\" class=\"widget %2$s\">',\n\t\t'after_widget' => '</aside>',\n\t\t'before_title' => '<h3 class=\"widget-title\">',\n\t\t'after_title' => '</h3>',\n\t) );\n\n\tregister_sidebar( array(\n\t\t'name' => __( 'First Front Page Widget Area', 'twentytwelve' ),\n\t\t'id' => 'sidebar-2',\n\t\t'description' => __( 'Appears when using the optional Front Page template with a page set as Static Front Page', 'twentytwelve' ),\n\t\t'before_widget' => '<aside id=\"%1$s\" class=\"widget %2$s\">',\n\t\t'after_widget' => '</aside>',\n\t\t'before_title' => '<h3 class=\"widget-title\">',\n\t\t'after_title' => '</h3>',\n\t) );\n\n\tregister_sidebar( array(\n\t\t'name' => __( 'Second Front Page Widget Area', 'twentytwelve' ),\n\t\t'id' => 'sidebar-3',\n\t\t'description' => __( 'Appears when using the optional Front Page template with a page set as Static Front Page', 'twentytwelve' ),\n\t\t'before_widget' => '<aside id=\"%1$s\" class=\"widget %2$s\">',\n\t\t'after_widget' => '</aside>',\n\t\t'before_title' => '<h3 class=\"widget-title\">',\n\t\t'after_title' => '</h3>',\n\t) );\n}\nadd_action( 'widgets_init', 'twentytwelve_widgets_init' );\n\nif ( ! function_exists( 'twentytwelve_content_nav' ) ) :\n/**\n * Displays navigation to next/previous pages when applicable.\n *\n * @since Twenty Twelve 1.0\n */\nfunction twentytwelve_content_nav( $html_id ) {\n\tglobal $wp_query;\n\n\t$html_id = esc_attr( $html_id );\n\n\tif ( $wp_query->max_num_pages > 1 ) : ?>\n\t\t<nav id=\"<?php echo $html_id; ?>\" class=\"navigation\" role=\"navigation\">\n\t\t\t<h3 class=\"assistive-text\"><?php _e( 'Post navigation', 'twentytwelve' ); ?></h3>\n\t\t\t<div class=\"nav-previous\"><?php next_posts_link( __( '<span class=\"meta-nav\">&larr;</span> Older posts', 'twentytwelve' ) ); ?></div>\n\t\t\t<div class=\"nav-next\"><?php previous_posts_link( __( 'Newer posts <span class=\"meta-nav\">&rarr;</span>', 'twentytwelve' ) ); ?></div>\n\t\t</nav><!-- #<?php echo $html_id; ?> .navigation -->\n\t<?php endif;\n}\nendif;\n\nif ( ! function_exists( 'twentytwelve_comment' ) ) :\n/**\n * Template for comments and pingbacks.\n *\n * To override this walker in a child theme without modifying the comments template\n * simply create your own twentytwelve_comment(), and that function will be used instead.\n *\n * Used as a callback by wp_list_comments() for displaying the comments.\n *\n * @since Twenty Twelve 1.0\n */\nfunction twentytwelve_comment( $comment, $args, $depth ) {\n\t$GLOBALS['comment'] = $comment;\n\tswitch ( $comment->comment_type ) :\n\t\tcase 'pingback' :\n\t\tcase 'trackback' :\n\t\t// Display trackbacks differently than normal comments.\n\t?>\n\t<li <?php comment_class(); ?> id=\"comment-<?php comment_ID(); ?>\">\n\t\t<p><?php _e( 'Pingback:', 'twentytwelve' ); ?> <?php comment_author_link(); ?> <?php edit_comment_link( __( '(Edit)', 'twentytwelve' ), '<span class=\"edit-link\">', '</span>' ); ?></p>\n\t<?php\n\t\t\tbreak;\n\t\tdefault :\n\t\t// Proceed with normal comments.\n\t\tglobal $post;\n\t?>\n\t<li <?php comment_class(); ?> id=\"li-comment-<?php comment_ID(); ?>\">\n\t\t<article id=\"comment-<?php comment_ID(); ?>\" class=\"comment\">\n\t\t\t<header class=\"comment-meta comment-author vcard\">\n\t\t\t\t<?php\n\t\t\t\t\techo get_avatar( $comment, 44 );\n\t\t\t\t\tprintf( '<cite><b class=\"fn\">%1$s</b> %2$s</cite>',\n\t\t\t\t\t\tget_comment_author_link(),\n\t\t\t\t\t\t// If current post author is also comment author, make it known visually.\n\t\t\t\t\t\t( $comment->user_id === $post->post_author ) ? '<span>' . __( 'Post author', 'twentytwelve' ) . '</span>' : ''\n\t\t\t\t\t);\n\t\t\t\t\tprintf( '<a href=\"%1$s\"><time datetime=\"%2$s\">%3$s</time></a>',\n\t\t\t\t\t\tesc_url( get_comment_link( $comment->comment_ID ) ),\n\t\t\t\t\t\tget_comment_time( 'c' ),\n\t\t\t\t\t\t/* translators: 1: date, 2: time */\n\t\t\t\t\t\tsprintf( __( '%1$s at %2$s', 'twentytwelve' ), get_comment_date(), get_comment_time() )\n\t\t\t\t\t);\n\t\t\t\t?>\n\t\t\t</header><!-- .comment-meta -->\n\n\t\t\t<?php if ( '0' == $comment->comment_approved ) : ?>\n\t\t\t\t<p class=\"comment-awaiting-moderation\"><?php _e( 'Your comment is awaiting moderation.', 'twentytwelve' ); ?></p>\n\t\t\t<?php endif; ?>\n\n\t\t\t<section class=\"comment-content comment\">\n\t\t\t\t<?php comment_text(); ?>\n\t\t\t\t<?php edit_comment_link( __( 'Edit', 'twentytwelve' ), '<p class=\"edit-link\">', '</p>' ); ?>\n\t\t\t</section><!-- .comment-content -->\n\n\t\t\t<div class=\"reply\">\n\t\t\t\t<?php comment_reply_link( array_merge( $args, array( 'reply_text' => __( 'Reply', 'twentytwelve' ), 'after' => ' <span>&darr;</span>', 'depth' => $depth, 'max_depth' => $args['max_depth'] ) ) ); ?>\n\t\t\t</div><!-- .reply -->\n\t\t</article><!-- #comment-## -->\n\t<?php\n\t\tbreak;\n\tendswitch; // end comment_type check\n}\nendif;\n\nif ( ! function_exists( 'twentytwelve_entry_meta' ) ) :\n/**\n * Prints HTML with meta information for current post: categories, tags, permalink, author, and date.\n *\n * Create your own twentytwelve_entry_meta() to override in a child theme.\n *\n * @since Twenty Twelve 1.0\n */\nfunction twentytwelve_entry_meta() {\n\t// Translators: used between list items, there is a space after the comma.\n\t$categories_list = get_the_category_list( __( ', ', 'twentytwelve' ) );\n\n\t// Translators: used between list items, there is a space after the comma.\n\t$tag_list = get_the_tag_list( '', __( ', ', 'twentytwelve' ) );\n\n\t$date = sprintf( '<a href=\"%1$s\" title=\"%2$s\" rel=\"bookmark\"><time class=\"entry-date\" datetime=\"%3$s\">%4$s</time></a>',\n\t\tesc_url( get_permalink() ),\n\t\tesc_attr( get_the_time() ),\n\t\tesc_attr( get_the_date( 'c' ) ),\n\t\tesc_html( get_the_date() )\n\t);\n\n\t$author = sprintf( '<span class=\"author vcard\"><a class=\"url fn n\" href=\"%1$s\" title=\"%2$s\" rel=\"author\">%3$s</a></span>',\n\t\tesc_url( get_author_posts_url( get_the_author_meta( 'ID' ) ) ),\n\t\tesc_attr( sprintf( __( 'View all posts by %s', 'twentytwelve' ), get_the_author() ) ),\n\t\tget_the_author()\n\t);\n\n\t// Translators: 1 is category, 2 is tag, 3 is the date and 4 is the author's name.\n\tif ( $tag_list ) {\n\t\t$utility_text = __( 'This entry was posted in %1$s and tagged %2$s on %3$s<span class=\"by-author\"> by %4$s</span>.', 'twentytwelve' );\n\t} elseif ( $categories_list ) {\n\t\t$utility_text = __( 'This entry was posted in %1$s on %3$s<span class=\"by-author\"> by %4$s</span>.', 'twentytwelve' );\n\t} else {\n\t\t$utility_text = __( 'This entry was posted on %3$s<span class=\"by-author\"> by %4$s</span>.', 'twentytwelve' );\n\t}\n\n\tprintf(\n\t\t$utility_text,\n\t\t$categories_list,\n\t\t$tag_list,\n\t\t$date,\n\t\t$author\n\t);\n}\nendif;\n\n/**\n * Extends the default WordPress body class to denote:\n * 1. Using a full-width layout, when no active widgets in the sidebar\n *    or full-width template.\n * 2. Front Page template: thumbnail in use and number of sidebars for\n *    widget areas.\n * 3. White or empty background color to change the layout and spacing.\n * 4. Custom fonts enabled.\n * 5. Single or multiple authors.\n *\n * @since Twenty Twelve 1.0\n *\n * @param array Existing class values.\n * @return array Filtered class values.\n */\nfunction twentytwelve_body_class( $classes ) {\n\t$background_color = get_background_color();\n\t$background_image = get_background_image();\n\n\tif ( ! is_active_sidebar( 'sidebar-1' ) || is_page_template( 'page-templates/full-width.php' ) )\n\t\t$classes[] = 'full-width';\n\n\tif ( is_page_template( 'page-templates/front-page.php' ) ) {\n\t\t$classes[] = 'template-front-page';\n\t\tif ( has_post_thumbnail() )\n\t\t\t$classes[] = 'has-post-thumbnail';\n\t\tif ( is_active_sidebar( 'sidebar-2' ) && is_active_sidebar( 'sidebar-3' ) )\n\t\t\t$classes[] = 'two-sidebars';\n\t}\n\n\tif ( empty( $background_image ) ) {\n\t\tif ( empty( $background_color ) )\n\t\t\t$classes[] = 'custom-background-empty';\n\t\telseif ( in_array( $background_color, array( 'fff', 'ffffff' ) ) )\n\t\t\t$classes[] = 'custom-background-white';\n\t}\n\n\t// Enable custom font class only if the font CSS is queued to load.\n\tif ( wp_style_is( 'twentytwelve-fonts', 'queue' ) )\n\t\t$classes[] = 'custom-font-enabled';\n\n\tif ( ! is_multi_author() )\n\t\t$classes[] = 'single-author';\n\n\treturn $classes;\n}\nadd_filter( 'body_class', 'twentytwelve_body_class' );\n\n/**\n * Adjusts content_width value for full-width and single image attachment\n * templates, and when there are no active widgets in the sidebar.\n *\n * @since Twenty Twelve 1.0\n */\nfunction twentytwelve_content_width() {\n\tif ( is_page_template( 'page-templates/full-width.php' ) || is_attachment() || ! is_active_sidebar( 'sidebar-1' ) ) {\n\t\tglobal $content_width;\n\t\t$content_width = 960;\n\t}\n}\nadd_action( 'template_redirect', 'twentytwelve_content_width' );\n\n/**\n * Add postMessage support for site title and description for the Theme Customizer.\n *\n * @since Twenty Twelve 1.0\n *\n * @param WP_Customize_Manager $wp_customize Theme Customizer object.\n * @return void\n */\nfunction twentytwelve_customize_register( $wp_customize ) {\n\t$wp_customize->get_setting( 'blogname' )->transport         = 'postMessage';\n\t$wp_customize->get_setting( 'blogdescription' )->transport  = 'postMessage';\n\t$wp_customize->get_setting( 'header_textcolor' )->transport = 'postMessage';\n}\nadd_action( 'customize_register', 'twentytwelve_customize_register' );\n\n/**\n * Binds JS handlers to make Theme Customizer preview reload changes asynchronously.\n *\n * @since Twenty Twelve 1.0\n */\nfunction twentytwelve_customize_preview_js() {\n\twp_enqueue_script( 'twentytwelve-customizer', get_template_directory_uri() . '/js/theme-customizer.js', array( 'customize-preview' ), '20130301', true );\n}\nadd_action( 'customize_preview_init', 'twentytwelve_customize_preview_js' );\n"]],"start1":0,"start2":0,"length1":0,"length2":17242}]],"length":17242}
{"contributors":[],"silentsave":false,"ts":1381342820628,"patch":[[{"diffs":[[0,"ity_text = __( '"],[-1,"This"],[1,"Esta"],[0," entry was poste"]],"start1":13715,"start2":13715,"length1":36,"length2":36},{"diffs":[[0,"text = __( '"],[-1,"This"],[1,"Esta"],[0," entr"],[-1,"y"],[1,"ada"],[0," was posted "]],"start1":13889,"start2":13889,"length1":34,"length2":36},{"diffs":[[0,"s entry "],[-1,"was"],[1,"foi"],[0," post"],[-1,"ed"],[1,"ada"],[0," on %3$s"]],"start1":14037,"start2":14037,"length1":26,"length2":27}]],"length":17245,"saved":false}
